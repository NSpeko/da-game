!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";function a(e){return Math.round(Math.random()*e)}n.d(t,"a",function(){return a})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return typeSign});var _getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function typeSign(){const SIGN_ARRAY=["-","+","*"],MAX_COUNTING_NUM=20,sign=SIGN_ARRAY[Math.floor(Math.random()*SIGN_ARRAY.length)],firstNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),secondNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),answer=eval(`${firstNum} ${sign} ${secondNum}`),task=`${firstNum} ... ${secondNum} = ${answer}`;return[task,sign]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return typeNumber});var _getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function typeNumber(){const SIGN_ARRAY=["-","+","*"],MAX_COUNTING_NUM=20,sign=SIGN_ARRAY[Math.floor(Math.random()*SIGN_ARRAY.length)],firstNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),secondNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),answer=eval(`${firstNum} ${sign} ${secondNum}`),task=`${firstNum} ${sign} X = ${answer}`;return[task,secondNum]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return countingTask});var _getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);function countingTask(){const SIGN_ARRAY=["-","+","*"],MAX_COUNTING_NUM=20,sign=SIGN_ARRAY[Math.floor(Math.random()*SIGN_ARRAY.length)],firstNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),secondNum=Object(_getRandomCountNum__WEBPACK_IMPORTED_MODULE_0__.a)(MAX_COUNTING_NUM),task=`${firstNum} ${sign} ${secondNum}`,answer=eval(task);return[task,answer]}},function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"PLAYER_PATH",function(){return B}),n.d(a,"rebuildCanvas",function(){return m}),n.d(a,"PLAYER_FEMALE_NUM",function(){return U}),n.d(a,"PLAYER_MALE_NUM",function(){return D}),n.d(a,"TASKSLIST",function(){return K}),n.d(a,"MODAL_DELATION",function(){return F}),n.d(a,"SPEECH_DELATION",function(){return z}),n.d(a,"HEAL",function(){return X}),n.d(a,"ATTACK",function(){return J}),n.d(a,"ENEMY_PATH",function(){return W}),n.d(a,"SPELL_IMAGE_PATH",function(){return G}),n.d(a,"SPELL_SOUND_PATH",function(){return j}),n.d(a,"MAX_HEAL_POINTS",function(){return Y}),n.d(a,"TOP_COUNT",function(){return q}),n.d(a,"WRAP",function(){return T}),n.d(a,"VERTICAL_WRAP",function(){return P}),n.d(a,"spellCanvas",function(){return o}),n.d(a,"spellContext",function(){return s}),n.d(a,"actorsCanvas",function(){return i}),n.d(a,"actorsContext",function(){return c}),n.d(a,"CANVAS_WIDTH",function(){return l}),n.d(a,"PX",function(){return h}),n.d(a,"CANVAS_HEIGHT",function(){return u}),n.d(a,"NAME_SIZE",function(){return O}),n.d(a,"HP_WRAP_PLAYER",function(){return k}),n.d(a,"NAME_WRAP_PLAYER",function(){return C}),n.d(a,"NAME_WRAP_ENEMY",function(){return S}),n.d(a,"HP_WRAP_ENEMY",function(){return x}),n.d(a,"HP_LINE_HEIGHT",function(){return R}),n.d(a,"EFFECT_DURATION",function(){return L}),n.d(a,"LVL_SIZE",function(){return H}),n.d(a,"LVL_WRAP",function(){return v}),n.d(a,"PLAYER_WIDTH",function(){return g}),n.d(a,"PLAYER_HEIGHT",function(){return p}),n.d(a,"ENEMY_WIDTH",function(){return _}),n.d(a,"ENEMY_HEIGHT",function(){return f}),n.d(a,"HEAD_WIDTH",function(){return y}),n.d(a,"HEAD_HEIGHT",function(){return w}),n.d(a,"BODY_WIDTH",function(){return E}),n.d(a,"BODY_HEIGHT",function(){return b}),n.d(a,"WEAPON_WIDTH",function(){return A}),n.d(a,"WEAPON_HEIGHT",function(){return I}),n.d(a,"LEGS_WIDTH",function(){return N}),n.d(a,"LEGS_HEIGHT",function(){return M}),n.d(a,"KEYBOARDEVENT",function(){return V});const r=e=>new Promise(t=>{const n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){200===this.status&&t(this.response)},n.send()});const o=document.getElementById("spellCanvas"),s=o.getContext("2d"),i=document.getElementById("actors"),c=i.getContext("2d");let l=document.getElementById("gameWindow").offsetWidth,u=350;i.style.marginLeft=`-${l}px`;const d=()=>l/800;let h=d();function m(){l=document.getElementById("gameWindow").offsetWidth,h=d(),u=350*h,i.style.marginLeft=`-${l}px`,o.width=l,o.height=u,i.width=l,i.height=u}const g=150,p=150,_=1.3*g,f=1.3*p,y=_/2.5,w=f/2.5,E=_,b=f/2,A=_/2,I=f/2,N=_/1.25,M=f/1.5,T=40,P=30,k=50,C=15,x=65,S=30,O=18,R=10,L=50,H=50,v=10,W="../resources/images/enemy",B="../resources/images/player",U=1,D=2,G="../resources/images/spell/",j="../resources/audio/spell/",Y=310,X=30,J=60,q=10,K=["counting","translation","speech","capitals","animalSounds","flag","animals","shuffledWords","sortableWords","typeNumber","typeSign"],V={ENTER:13},F=2e3,z=800;function Q(e,t){const n=`${W}/${t}/${t}_${e[t]}.png`,r=new Image;return r.width=a[`${t.toUpperCase()}_WIDTH`]*h,r.heigth=a[`${t.toUpperCase()}_HEIGHT`]*h,r.src=n,r}const Z="/resources/dictionaries/enemies-dictionary.json";function ee(){const e=["adj","type","name","head","body","weapon","legs"],t={};return r(Z).then(n=>new Promise(a=>{const{enemies:r}=JSON.parse(n);e.forEach(e=>(function(e,t,n){new Promise(a=>{let r;for(;!r;)(r=e[t][Math.round(Math.random()*e[t].length)])&&(n[t]=r,a(r))})})(r,e,t)),a(t)})).catch(e=>{throw new Error(e)})}class te{constructor(e,t,n,a){this.place={x:e*h,y:t*h},this.type=n,this.name=a||"John Smith",this.healPoints=Y}redraw(){this.clearImage(),this.drawImage(),this.drawInfo(),this.drawHP()}drawName(e){let t=0;"enemy"===this.type?t=S*h:"player"===this.type&&(t=C*h),c.font=`${O*h}px Verdana`,c.fillStyle="red",c.textAlign="center",c.fillText(this.name,this.place.x-e*h,this.place.y-t),c.fillStyle="black",c.textAlign="center",c.strokeText(this.name,this.place.x-e*h,this.place.y-t)}drawHP(e){const t=this.healPoints/Y;let n=0;"enemy"===this.type?n=x*h:"player"===this.type&&(n=k*h),c.fillStyle="red",c.fillRect(this.place.x-e*h,this.place.y-n,t*this.image.width,R*h),c.fillStyle="black",c.strokeRect(this.place.x-e*h,this.place.y-n,this.image.width,R*h)}rebuild(e,t){this.place={x:e,y:t},"enemy"===this.type?(this.image.width=_*h,this.image.height=f*h):"player"===this.type&&(this.image.width=g*h,this.image.height=p*h),this.redraw()}heal(e){s.drawImage(e.image,this.place.x-this.image.width/4,this.place.y,e.width,e.height),this.healPoints<=Y-X?this.healPoints+=X:this.healPoints=Y,this.effect(),setTimeout(()=>{s.clearRect(this.place.x-this.image.width/4,this.place.y,e.width,e.height)},500)}effect(e){this.clearImage(),setTimeout(()=>{this.clearImage(),this.redraw()},e)}damaged(){this.healPoints-J>0?(this.healPoints-=J,this.effect(L)):this.loose()}}class ne extends te{constructor(e,t,n="player",a,r){super(e,t,n,r),this.score=0,this.image=a,this.redraw(),this.healPoints=Y}drawImage(){c.drawImage(this.image,this.place.x,this.place.y,this.image.width,this.image.height)}drawInfo(){this.drawName(-this.image.width/3),this.drawHP(this.place.x/3),this.drawLevel()}drawLevel(){c.font=`${H*h}px Verdana`,c.fillStyle="orange",c.textAlign="center",c.fillText(this.score+1,l/2-this.score*h,v*h+H*h)}static win(){this.score+=1,ie()}loose(){const e=$("#gameWindow");$("#onlyLoggedUserContent")[0].style.display="none",e.toggleClass("main-game-container main-score-container bg-light");let t=[];localStorage.scoreAll&&(t=JSON.parse(localStorage.scoreAll)),function(e,t){let n=e;const a=$("#gameWindow");a.append("<h3>Score List</h3>");const r=document.createElement("P");r.innerText=`Your Score: ${t.score}`,a.append(r);let o=q;[o,n]=function(e,t,n){let a=t;return e.push(n),e.length<t&&(a=e.length),e.sort((e,t)=>t.score-e.score),[a,e]}(n,o,t);for(let e=0;e<o;e+=1){const t=document.createElement("h3");t.innerText=`${e+1}. ${n[e].name} ${n[e].score} `,a.append(t)}}(t,{name:this.name,score:this.score}),e.append('<button class="btn btn-primary" onclick="location.reload();">Repeat?</button>'),localStorage.scoreAll=JSON.stringify(t),this.healPoints=Y}clearImage(){c.clearRect(this.place.x,this.place.y,this.image.width,this.image.heigth)}}class ae extends te{constructor(e,t,n="enemy",a,r,o){super(e,t,n,r),this.image={head:o.head,body:o.body,weapon:o.weapon,legs:o.legs,width:a.width,height:a.height},this.healPoints=Y,this.redraw()}drawInfo(){this.drawName(0),this.drawHP(this.image.width/3)}drawImage(){c.drawImage(this.image.legs,this.place.x-E*h/6,this.place.y+b*h/1.5+w*h/3,N*h,M*h),c.drawImage(this.image.body,this.place.x-E*h/3.5,this.place.y+w*h/4,E*h,b*h),c.drawImage(this.image.head,this.place.x-E*h/50,this.place.y-w*h/3,y*h,w*h),c.drawImage(this.image.weapon,this.place.x-1.1*A*h,this.place.y+(w*h-I/1.5*h),A*h,I*h)}loose(){ne.win(),ie(),this.healPoints=this.healPoints}clearImage(){c.clearRect(this.place.x-this.image.width/2,this.place.y,1.3*this.image.width,this.image.height)}}function re(){const e=JSON.parse(localStorage.getItem("user"));e&&e.gender&&e.name&&(!function(e,t){const n=new Image,r=`PLAYER_${e.toUpperCase()}_NUM`,o=Math.ceil(Math.random()*a[r]);n.src=`${B}/hero_${e}_${o}.png`,n.width=g*h,n.height=p*h,se=new ne(T*h,u-p-P*h,"player",n,t)}(e.gender,e.name),ie())}let oe,se;function ie(){const e=new Image;e.width=_*h,e.height=f*h,async function(){const e=await ee();return[`${e.adj} ${e.type} ${e.name}`,{head:Q(e,"head"),body:Q(e,"body"),weapon:Q(e,"weapon"),legs:Q(e,"legs")}]}().then(([t,n])=>{oe=new ae(l-_-T*h,u-f-P*h,"enemy",e,t,n)})}re(),window.onload=(()=>{document.getElementsByClassName("game-menu")[0].style.top=`-${u}px`,localStorage.user?$("body").toggleClass("bg-secondary"):(document.getElementsByClassName("game-menu")[0].style.display="none",document.getElementById("logInModalOpener").click()),$("document").ready(()=>{setTimeout(()=>{$("#pageLoaderSpinnerElement").toggleClass("not-displayed"),$("#onlyLoggedUserContent").toggleClass("not-displayed"),$("body").toggleClass("bg-secondary")},200)})}),window.onresize=m(),setInterval(()=>{m(),document.getElementsByClassName("game-menu")[0].style.top=`-${u}px`,oe&&oe.rebuild(l-oe.image.width-T*h,u-oe.image.height-P*h),se&&se.rebuild(T,u-se.image.height-P*h)},500),document.getElementById("menu").addEventListener("click",()=>{document.getElementById("gameMenu").classList.toggle("hidden")});class ce{constructor(e,t){this.name=e,this.gender=t}}document.getElementById("loginSubmit").addEventListener("click",()=>{const e=document.getElementById("userName").value,t=Array.from(document.querySelectorAll(".user-gender")).filter(e=>e.checked)[0].value;e&&t&&(document.getElementsByClassName("game-menu")[0].style.display="block",function(e,t){const n=new ce(e,t);n.name&&n.gender&&(localStorage.user=JSON.stringify(n),document.getElementById("onlyLoggedUserContent").style.display="block"),re()}(e,t),$("#logInModal").modal("toggle"),window.location=`${window.location.href.split("?")[0]}?session=${Date.now()}`)});class le{constructor(e,t,n,a,r,o,s){this.name=e,this.image=new Image,this.image.src=`${G}${t}`,this.sound=new Audio(`${j}${n}`),this.width=a,this.height=r,this.step={x:o,y:s}}}const ue=[new class extends le{constructor(e,t,n,a,r,o,s){super(e,t,n,a,r,o,s),this.type="flying"}}("Fireball","fireball.png","fireball.ogg",100,100,10,20),new class extends le{constructor(e,t,n,a,r,o,s){super(e,t,n,a,r,0,o),this.type="drop"}}("Meteor","meteor.png","meteor.ogg",200,200,12),new class extends le{constructor(e,t,n,a,r,o,s){super(e,t,n,a,r,o,0),this.type="straight"}}("Arrow","arrow.png","arrow.ogg",100,100,12),new class extends le{constructor(e,t,n,a,r,o,s){super(e,t,n,a,r,o,s),this.type="jiggling"}}("Star","star.png","star.ogg",100,100,12,8),new class extends le{constructor(e,t,n,a,r,o,s){super(e,t,n,a,r,0,0),this.type="heal"}}("Heal","heal.png","heal.ogg",200,200)];function de(e){e.sound.pause(),e.sound.currentTime=0}function he(e,t,n,a,r,o){!function(e,t){de(e),t.damaged()}(e,t),function(e,t=0,n=0,a,r,o){clearInterval(e),a.clearRect(t,n,r,o)}(n,a,r,o,e.width*h,e.height*h)}function me(e,t,n){!function(e){e.sound.loop=!0,e.sound.play()}(e);let a=function(e,t,n){let{x:a}=e.place;return"player"===e.type&&(a+=e.image.width/2),"drop"===n.type&&(a=t.place.x),a}(t,n,e),r=function(e,t){let n=e.place.y+e.image.height/4;return"drop"===t.type&&(n=0),n}(n,e),o=Math.abs(t.place.x-n.place.x+oe.image.width/2+se.image.width/2);if("player"===t.type&&(o+=n.image.width/2),"heal"===e.type)t.heal(e),de(e);else{const i=setInterval(()=>{s.clearRect(a,r,e.width*h,e.height*h),[a,r]=function(e,t,n,a,r){let o,s=e,i=t;switch(o=e>=r-r/4?4:e>=r/2?3:e<=r/4?1:2,a.type){case"flying":if(s>=r/2-r/12&&s<=r/2+r/12)i-=0;else if("enemy"===n.type)switch(o){case 1:i+=a.step.y*h;break;case 2:i+=a.step.y*(h/2);break;case 3:i-=a.step.y*(h/2);break;case 4:i-=a.step.y*h}else if("player"===n.type)switch(o){case 1:i-=a.step.y*h;break;case 2:i-=a.step.y*(h/2);break;case 3:i+=a.step.y*(h/6);break;case 4:i+=a.step.y*(h/2)}break;case"straight":i+=a.step.y*h;break;case"jiggling":i+=a.step.y*h,a.step.y*=-1;break;case"drop":i+=a.step.y*h}return"player"===n.type?s+=a.step.x:s-=a.step.x,[s,i]}(a,r,t,e,o),s.drawImage(e.image,a,r,e.width*h,e.height*h),"player"===t.type?a>=n.place.x&&r>=n.place.y&&he(e,n,i,a,r,s):a<=n.place.x+n.image.width/2&&r>=n.place.y&&he(e,n,i,a,r,s)},24)}}function ge(){me(function(){const e=Math.floor(Math.random()*ue.length);return ue[e]}(),oe,se)}var pe=n(3);var _e=n(2);var fe=n(1);const ye="/resources/dictionaries/languages-dictionary.json";async function we(){const[e,t]=await r(ye).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t([n.eng,n.rus])})).catch(e=>{throw new Error(e)});return await(["Translate",e,t,"text"])}const Ee="/resources/dictionaries/capitals-dictionary.json";async function be(){const[e,t]=await r(Ee).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t([n.country,n.capital])})).catch(e=>{throw new Error(e)});return await(["Write capital",e,t,"text"])}const Ae="/resources/dictionaries/animals-dictionary.json",Ie="/resources/images/tasks/animals/";function Ne(e){const t=document.createElement("img");t.setAttribute("src",e),t.setAttribute("width","50%"),t.style.border="black 1px solid",document.getElementById("userModalTaskContainer").appendChild(t)}async function Me(){const[e,t]=await r(Ae).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t([`${Ie}${n.image}`,n.name])})).catch(e=>{throw new Error(e)});return Ne(e),await(["Who is it?","",t,"text"])}const Te="/resources/dictionaries/animalSounds-dictionary.json";async function Pe(){const[e,t]=await r(Te).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t([n.sound,n.name])})).catch(e=>{throw new Error(e)});return await(["Write animal",e,t,"text"])}const ke="/resources/dictionaries/words-dictionary.json",Ce="eng";function xe(e){const t=e.split("");for(let e=t.length-1;e>0;e-=1){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}function Se(){return r(ke).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)if(n=e[Math.floor(Math.random()*e.length)][Ce]){t([xe(n),n])}})).catch(e=>{throw new Error(e)})}async function Oe(){const[e,t]=await Se();return function(e){const t=document.createElement("span");e.forEach(e=>{const n=document.createElement("span");n.setAttribute("class","letter"),n.textContent=e,t.appendChild(n)}),document.getElementById("userModalTaskContainer").appendChild(t)}(e),await(["What word is it","",t,"text"])}const Re="/resources/dictionaries/speech-dictionary.json";function $e(e){const t=window.speechSynthesis;t.getVoices();const n=new SpeechSynthesisUtterance(e);n.lang="en-US",n.pitch=.7,t.speak(n)}async function Le(){const e=await r(Re).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t(n.eng)})).catch(e=>{throw new Error(e)});return setTimeout(()=>{$e(e)},z),function(e){const t=document.createElement("button");t.setAttribute("class","btn btn-danger float-right"),t.setAttribute("id","repeatTask"),t.innerHTML="Repeat",t.addEventListener("click",()=>{$e(e)}),document.getElementById("modalFooter").appendChild(t)}(e),await(["Write what you hear","",e,"text"])}const He="/resources/dictionaries/countryFlags-dictionary.json",ve="/resources/images/tasks/flags/";async function We(){const[e,t]=await r(He).then(e=>new Promise(t=>{t(JSON.parse(e))})).then(e=>new Promise(t=>{let n;for(;!n;)(n=e[Math.floor(Math.random()*e.length)])&&t([`${ve}${n.image}`,n.country])})).catch(e=>{throw new Error(e)});return Ne(e),await(["Who's is this flag?","",t,"text"])}function Be(e,t){const n=document.createElement("h3");n.setAttribute("id","taskQuiz"),n.innerText=`${e}: ${t}`,document.getElementById("userModalTaskContainer").appendChild(n)}function Ue(){const e=document.createElement("button");e.setAttribute("class","btn btn-primary float-left"),e.setAttribute("id","submitTask"),e.setAttribute("data-dismiss","modal"),e.innerHTML="Submit",document.getElementById("modalFooter").appendChild(e)}async function De(e,t,n){const[a,r]=await Se();Be("Sort letters to get the word",""),function(e){const t=document.createElement("span");t.setAttribute("id","sortable"),e.forEach(e=>{const n=document.createElement("span");n.setAttribute("class","letter"),n.textContent=e,t.appendChild(n)}),document.getElementById("userModalTaskContainer").appendChild(t),$(()=>{$("#sortable").sortable(),$("#sortable").disableSelection()})}(a);return Ue(),document.getElementById("submitTask").addEventListener("click",()=>{!function(e,t,n,a){const r=Array.from(document.querySelectorAll(".letter")).map(e=>e.textContent).join(""),o=document.getElementById("taskQuiz");o.style.color="red",e.toString().toLowerCase()===r.toLowerCase().trim()?(o.innerText="RIGHT!",setInterval(me(t,n,a),F)):(o.innerText=`WRONG! Answer is '${e}'`,setInterval(ge(),F)),o.style.color="black"}(r,e,t,n)}),await!0}function Ge(e,t,n,a,r,o,s){Be(e,t),function(e){const t=document.createElement("input");t.classList.add("form-control"),t.setAttribute("id","userAnswer"),t.setAttribute("type",`${e}`),document.getElementById("userModalTaskContainer").appendChild(t),document.onkeypress=(()=>{document.getElementById("userAnswer").focus()})}(a),Ue(),document.getElementById("submitTask").addEventListener("click",()=>{!function(e,t,n,a){const r=document.getElementById("userAnswer").value,o=document.getElementById("taskQuiz");o.style.color="red",e.toString().toLowerCase()===r.toLowerCase().trim()?(o.innerText="RIGHT!",setInterval(me(t,n,a),F)):(o.innerText=`WRONG! Answer is '${e}'`,setInterval(ge(),F)),o.style.color="black"}(n,r,o,s)}),document.getElementById("userAnswer").addEventListener("keyup",e=>{e.preventDefault(),e.keyCode===V.ENTER&&document.getElementById("submitTask").click()})}async function je(e,t,n){let a,r,o,s,i=!1;switch(K[Math.floor(Math.random()*K.length)]){case"counting":[r,o,s,a]=function(){const[e,t]=Object(pe.a)();return["Count",e,t,"number"]}();break;case"typeNumber":[r,o,s,a]=function(){const[e,t]=Object(_e.a)();return["Type right X",e,t,"number"]}();break;case"typeSign":[r,o,s,a]=function(){const[e,t]=Object(fe.a)();return["Type right sign",e,t,"text"]}();break;case"translation":[r,o,s,a]=await we();break;case"capitals":[r,o,s,a]=await be();break;case"animalSounds":[r,o,s,a]=await Pe();break;case"flag":[r,o,s,a]=await We();break;case"animals":[r,o,s,a]=await Me();break;case"shuffledWords":[r,o,s,a]=await Oe();break;case"speech":[r,o,s,a]=await Le();break;case"sortableWords":i=await De(e,t,n)}i||Ge(r,o,s,a,e,t,n)}function Ye(e,t,n){$("#userModalTaskContainer").empty(),$("#modalFooter").empty(),je(e,t,n)}!function(){const e=document.getElementById("spellMenu"),t=document.getElementById("healMenu");ue.forEach(n=>{const a=function(e){const t=document.createElement("button");t.setAttribute("class","btn btn-primary btn-lg btn-block"),t.textContent=e.name;const n=e.image;return n.width=30*h,n.height=30*h,t.appendChild(n),t.setAttribute("data-toggle","modal"),t.setAttribute("data-target","#solveGameTaskModal"),t}(n);"heal"===n.type?(a.addEventListener("click",()=>{Ye(n,se,se)}),t.appendChild(a)):(a.addEventListener("click",()=>{Ye(n,se,oe)}),e.appendChild(a))})}()},function(e,t,n){e.exports=n(4)}]);